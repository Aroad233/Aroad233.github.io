<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="一个phper"><meta name="keywords" content=""><meta name="author" content="Aroad阿路"><meta name="copyright" content="Aroad阿路"><title>Aroad Hub ✔(建设中) | 胡言乱语的小栈</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://v1.hitokoto.cn/?encode=js&amp;charset=utf-8&amp;select=.footer_custom_text" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '5.4.0'
} </script><meta name="generator" content="Hexo 5.4.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="author-info"><div class="author-info__avatar text-center"><img src="https://aroad.top/demo/avagar.jpg"></div><div class="author-info__name text-center">Aroad阿路</div><div class="author-info__description text-center">一个phper</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">7</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">8</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">1</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://leckkk.github.io">194单身青年</a></div></div></div><nav id="nav" style="background-image: url(https://aroad.top/demo/banner2.png)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">胡言乱语的小栈</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">胡言乱语的小栈</div><div id="site-sub-title">Aroad Hub ✔(建设中)</div><div id="site-social-icons"><a class="social-icon" href="https://weibo.com/u/5516885261" target="_blank" rel="noreferrer noopener nofollow"><i class="fa-weibo fa"></i></a><a class="social-icon" href="https://github.com/Aroad233" target="_blank" rel="noreferrer noopener nofollow"><i class="fa-github fa"></i></a></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2022/07/30/envLoad/">envLoad</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-07-30</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/laravel/">laravel</a></span><div class="content">env相关解析都知道 env是laravel的环境变量
那么这篇文章来扒一扒具体的源码
因为learnku上很多源码解析都是5.x版本的 思路跟核心思想大致是不变的 但有些细节对比下来是变更了的，
具体还是更新分享一下
重点
版本v8.75.0

helpers我们经常通过helper 辅助函数对env进行取值操作，相关可见  
其本质就是Env::get 方法
123456if (! function_exists(&#x27;env&#x27;)) &#123;    function en ...</div><a class="more" href="/2022/07/30/envLoad/#more" style="margin-top: 14px">阅读更多</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/07/03/laravel-application-init/">laravel-application-init</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-07-03</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/laravel/">laravel</a></span><div class="content">前言接laravel-autoload

实例化入口在上方autoload引入自动加载后，开始引入/bootstrap/app.php这个文件 其中这个文件上面有一段注释，大概意思就是我们只要有了application这个东西，我们就可以用application的http内核处理进来的request，然后我们会发回相应到客户端
1234567891011121314require __DIR__.&#x27;/../vendor/autoload.php&#x27;;/*|----------- ...</div><a class="more" href="/2022/07/03/laravel-application-init/#more" style="margin-top: 14px">阅读更多</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/06/29/%E7%AE%97%E6%B3%95%E5%B0%8F%E8%AE%A1/">算法小计</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-06-29</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">算法</a></span><div class="content">前言记录一下 算法卷就完事了 基于go实现，顺便学一学，熟悉一下go的语法
dfs字符串排列力扣原题
剑指 Offer 38. 字符串的排列
题目描述
输入一个字符串，打印出该字符串中字符的所有排列。
你可以以任意顺序返回这个字符串数组，但里面不能有重复元素。
示例:
输入：s = “abc”输出：[“abc”,”acb”,”bac”,”bca”,”cab”,”cba”]
限制：
1 &lt;= s 的长度 &lt;= 8

回溯法
通过递归回溯将所有的排列组合方案全部打印
go实现
12345 ...</div><a class="more" href="/2022/06/29/%E7%AE%97%E6%B3%95%E5%B0%8F%E8%AE%A1/#more" style="margin-top: 14px">阅读更多</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/06/26/laravel-autoload/">laravel-autoload</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-06-26</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/php/">php</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/laravel/">laravel</a></span><div class="content">前言卷了很久的业务=。=感觉都快昏了，现在回看laravel框架源码的时候又有了新的感觉，所以重新来搞一次记录，先从最基本的autoload开始
入口文件laravel的入口文件在于 public\index.php，便是nginx的访问入口，这个文件的源码也非常的少
123456789101112131415161718192021222324&lt;?phpuse Illuminate\Contracts\Http\Kernel;use Illuminate\Http\Request;//定 ...</div><a class="more" href="/2022/06/26/laravel-autoload/#more" style="margin-top: 14px">阅读更多</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/12/14/%E5%B9%B6%E5%8F%91%E8%AE%B0%E5%BD%95/">并发业务处理记录</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-12-14</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/php/">php</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/laravel/">laravel</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/mysql/">mysql</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/redis/">redis</a></span><div class="content">并发业务处理记录前景提要公司项目涉及到任务模块的奖励发放，跟黑产开始斗智斗勇了所以涉及到了并发的情况。
场景说明目前我涉及到的任务就两种，签到、邀新邀老助力，任务配置包括奖励自动发放与手动发放。其余略。
并发情况用户短时间多次请求接口导致多次任务奖励的发放
解决方案
mysql锁表
redis原子锁

实际解决分析
mysql锁表简单粗暴，适合当前的业务量需求，立马能写完。我也想这样解决，然后给打回来重做了。
redis原子锁 速度快，减少db负载

原子锁实现先自己翻阅资料尝试了第一版的原子锁 ...</div><a class="more" href="/2021/12/14/%E5%B9%B6%E5%8F%91%E8%AE%B0%E5%BD%95/#more" style="margin-top: 14px">阅读更多</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/09/23/%E5%AF%B9laravel%E8%AE%B0%E5%BD%95ip%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/">对laravel记录ip的一些思考</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-09-23</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/php/">php</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/laravel/">laravel</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/lumen/">lumen</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/nginx/">nginx</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/ip/">ip</a></span><div class="content">对laravel记录ip的一些思考前言：前段时间开发的时候遇到了需要存储记录ip的功能点，然后便去laravel社区搜了搜发现$request-&gt;ip()所获得的ip可能并不是真实的ip…而后就有了这篇文章。
php获得真实用户iplaravel中自带的ip函数​    $request-&gt;ip()指向函数$request-&gt;getClientIp()而通过查看$request-&gt;getClientIp()源码可以得知我们获得的是REMOTE_ADDR 
12345678 ...</div><a class="more" href="/2021/09/23/%E5%AF%B9laravel%E8%AE%B0%E5%BD%95ip%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/#more" style="margin-top: 14px">阅读更多</a><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/09/09/hello-world/">Hello World</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-09-09</time><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Po ...</div><a class="more" href="/2021/09/09/hello-world/#more" style="margin-top: 14px">阅读更多</a><hr></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://aroad.top/demo/banner2.png)"><div class="layout" id="footer"><div class="copyright">&copy;2021 - 2022 By Aroad阿路</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">hitokoto</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>